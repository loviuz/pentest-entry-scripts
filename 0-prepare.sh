#!/bin/bash

# Check if all used tools are installed
tools='wget xsltproc nmap nikto gobuster davtest parsero blackwidow'
tools_missing=false

echo "[*] Checking if all tools are installed..."

for tool in $tools
do
    if ! command -v $tool &> /dev/null
    then
        echo -e " - \e[31m"$tool"\e[0m"
        tools_missing=true
    else
        echo -e " + \e[32m"$tool"\e[0m"
    fi
done

if $tools_missing
then
    echo -e "\n[\e[31mX\e[0m] Some tools are not installed. Please install them to continue..."
    exit
fi


# Prepare directories
echo -e "\n[\e[32m*\e[0m] Preparing directories..."
mkdir -p reports
mkdir -p wordlists

# Download stylesheet for nmap
echo -e "\n[\e[32m*\e[0m] Downloading stylesheet for nmap..."
wget -O reports/nmap-bootstrap.xsl https://raw.githubusercontent.com/honze-net/nmap-bootstrap-xsl/stable/nmap-bootstrap.xsl

# Download wordlists
echo -e "\n[\e[32m*\e[0m] Downloading wordlists (it could takes a long)..."
wget -c https://github.com/danielmiessler/SecLists/archive/master.zip -O wordlists/SecList.zip \
  && unzip -d wordlists/ wordlists/SecList.zip \

rm -f wordlists/SecList.zip
